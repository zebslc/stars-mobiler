<main class="ship-design-screen">
  <!-- Design List Mode -->
  @if (!isDesignerMode()) {
    <div class="design-list-header">
      <h1>Ship Designs</h1>
      <button 
        type="button" 
        class="btn-primary" 
        (click)="startNewDesign()"
        [disabled]="!canCreateNew()"
        [title]="!canCreateNew() ? 'Maximum number of designs reached' : ''"
      >+ New Design</button>
    </div>

    <div class="designs-grid">
      @if (designDisplays().length === 0) {
        <div class="empty-state">
           <p>No ship designs found. Create one to get started!</p>
        </div>
      }
      
      @for (design of designDisplays(); track design.id) {
        <app-ship-design-item
           [design]="design"
           [count]="getShipCount(design.id)"
           (edit)="onEditDesign($event)"
           (delete)="onDeleteDesign($event)"
           (clone)="onCloneDesign($event)"
        ></app-ship-design-item>
      }
    </div>
  }

  <!-- Designer Mode -->
  @if (isDesignerMode()) {
    <app-ship-designer
      (save)="onDesignSaved()"
      (cancel)="onDesignCanceled()"
    ></app-ship-designer>
  }
</main>
